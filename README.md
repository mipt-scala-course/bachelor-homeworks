# Домашние задания по курсу Scala в магистратуре МФТИ

## Disclaimer
В домашках нельзя использовать мутабельные переменые, `throw`, касты или проверки на типы с помощью методов из Java вроде `asInstanceOf` и тд. 

В домашних заданиях вы можете менять сигнатуры методов/интерфейс, если на написано обратного. Если в задании нужно реализовать определенную функцию, которая уже объявлена за вас, в таких случаях ее сигнатуру менять нельзя.

## Фабрики газированных напитков
В этом задании вам нужно реализовать домен производства различных газированных напитков:
* Sparkling Water Саяны (Франция)
* Квас "Лягаевский"
* Калинские компоты
* Напитки для детей "РосТишкин" (Россия)


Ваша задача написать алгоритм, который принимает на вход список заказов для каждого напитка. Заказ состоит из:
* Кол-ва напитков
* Максимальное время для выполнения заказа - опционально. Если не указано, то пытаемся произвести нужное кол-во напитков.

Заказы можно захардкодить при запуске программы, ничего не нужно считывать из консоли.

Программа должна уметь запускать указанные фабрики в параллель, используя библиотеку `ZIO`. Производство напитка на каждой фабрике происходит последовательно, т.е. следующий напиток произведется только после успешного производства предыдущего. Для каждой фабрики есть конфиг:
* Название
* Кол-во ошибок производства напитков до остановки из-за выхода оборудования из строя
* Время на производство одного напитка в миллисекундах
* Вероятность халатности работников фабрики
* Вероятность выхода оборудования из строя
* Время починки оборудования в миллисекундах

Если оборудование вышло из строя, то производство на фабрике полностью останавливается до его починки. 
Если достигнут лимит кол-ва ошибок выхода оборудования из строя, то все заказы на всех фабриках отменяются, и программа завершается.
Если достигнут лимит по времени производства напитка на одной из фабрик, то произвести отмену выполнения всех заказов на всех фабриках.
Если произошла ошибка из-за халатности сотрудника, то экземпляр напитка производится заново.

Также, в программе есть интерфейс агрегатора событий производства напитков `ProductionEventsAggregator`. Он принимает в себя ADT события производства каждого напитка на каждой фабрике `ProductionEvent`. Подробности его реализации не важны для этого задания, поэтому просто используйте предоставленную реализацию. 


